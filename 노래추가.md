# 노래 추가 / 수정 폼 사용 가이드

> 이 문서는 처음 쓰는 사람이 “아 이 폼은 이렇게 쓰는 거구나” 하고 바로 이해할 수 있게,  
> **UI 기준으로** 아주 자세히 설명합니다.

---

## 1) 이 폼은 뭐 하는 화면인가요?

이 화면은 **노래(한 곡) 데이터를 추가하거나 수정**하는 곳입니다.

입력한 내용은 프로젝트의 곡 데이터 파일에 저장되며, 저장 후에는 자동으로 정리/동기화까지 진행됩니다.

---

## 2) 화면 구성 한눈에 보기

화면은 크게 3파트입니다.

### (A) 상단 바
- **정보 저장** 체크박스
- **길이** 입력칸
- 버튼 4개  
  - `힌트 일괄 생성`
  - `2차힌트 일괄 생성`
  - `FAQ`
  - `도움말`

### (B) 본문(좌/우로 나뉜 입력 영역)
- **좌측:** 제목 / 노래 / 가수
- **우측:** 주관식 / 객관식

각 영역은 **접었다 펼 수 있는 카드(섹션)** 형태입니다.

### (C) 하단 버튼
- `추가하기` 또는 `수정하기` 버튼 (모드에 따라 이름이 달라짐)

---

## 3) 처음 열었을 때 꼭 확인할 것

### 3.1 어떤 섹션이 “사용안함”으로 잠겨 있을 수 있음
맵/프로젝트 설정에 따라 다음이 자동으로 꺼질 수 있습니다.

- 제목 섹션이 아예 사용 안 함
- 노래 섹션이 아예 사용 안 함
- 가수 섹션이 아예 사용 안 함
- 주관식/객관식 중 하나가 사용 안 함
- 2차힌트 항목들이 사용 안 함

**사용안함 상태에서는**
- 입력칸이 회색으로 비활성화되고
- 값이 `사용안함`으로 표시되며
- 섹션 제목에도 `(사용안함)`이 붙습니다.

> 즉, “내가 못 쓰는 게 아니라 설정상 꺼져있는 상태”일 수 있습니다.

---

## 4) 상단 바 기능 설명

### 4.1 ✅ 정보 저장
- 체크하면: 저장 후에도 현재 입력한 값들이 유지됩니다.
- 체크 안 하면: 저장 후 입력칸이 대부분 비워집니다.
  - 다음 곡을 연속으로 추가할 때 편해지게 만든 옵션입니다.

---

### 4.2 ✅ 길이
- 이 노래의 길이를 입력합니다.
- **숫자만 입력 가능**합니다.
- 비어있거나 숫자가 아니면 저장이 막힙니다.

---

### 4.3 ✅ 힌트 일괄 생성
각 섹션의 “정답”을 바탕으로 **힌트를 자동 생성**해줍니다.

- 제목 / 노래 / 가수 / 주관식에 적용됩니다.
- 정답이 비어 있으면 해당 항목은 생성이 실패하며 안내가 뜹니다.

> 힌트는 “초성 형태”로 자동 변환되는 방식입니다.
> 정답이 한글이 아니면 이상하게 변환되니까 직접 수정이 필요합니다.
---

### 4.4 ✅ 2차힌트 일괄 생성
정답을 바탕으로 **2차 힌트**를 자동으로 만들어줍니다.

- 제목 / 노래 / 가수 / 주관식에 적용됩니다.
- 2차힌트가 “사용안함”으로 꺼진 프로젝트에서는 아무것도 바뀌지 않으며 안내가 뜹니다.
> 정답이 한글이 아니면 이상하게 변환되니까 직접 수정이 필요합니다.
> 2차힌트는 공백으로 둬도 저장이 되며, 공백일 경우 자동으로 힌트에 입력된 값이 저장됩니다.
---

### 4.5 ✅ FAQ
FAQ 창을 띄웁니다.  
(프로젝트에서 제공하는 자주 묻는 질문/해결법을 확인할 때 사용)

---

### 4.6 ✅ 도움말
웹페이지 형태의 도움말 링크를 브라우저로 엽니다.

---

## 5) 섹션별 입력 방법 (진짜 중요)

> 섹션은 접었다 펼 수 있고, 저장/오류 이동 시 자동으로 펼쳐지기도 합니다.

---

## 5.1 제목 섹션

### 입력 항목
- **타입**(예: 애니/작곡가/분류 등 프로젝트에서 쓰는 분류)
- **정답**
- **힌트**
- **2차힌트**(사용 설정일 때만)

- 주제 정답도 최대 3개까지 입력 가능합니다.

### 필수 규칙
- 타입이 비어있으면 저장 불가
- 정답이 비어있으면 저장 불가
- 힌트가 비어있으면 저장 불가
- 힌트는 **특정 문자 규칙**을 반드시 따라야 합니다(아래 참고)

---

## 5.2 노래 섹션

### 입력 항목
- **정답**
- **힌트**
- **2차힌트**(사용 설정일 때만)

### 필수 규칙
- 정답/힌트는 비어있으면 저장 불가
- 힌트는 문자 규칙 준수(아래 참고)

---

## 5.3 가수 섹션 (가장 많이 터지는 구간)

### 입력 구조
가수는 최대 15개까지 입력 가능하며 각 줄은:
- `가수 정답`
- `가수 힌트`
- `가수 2차힌트`(사용 설정일 때만)

### ✅ 핵심 규칙 1: “정답 + 힌트”는 무조건 한 세트
- 정답만 쓰고 힌트 비우기 ❌
- 힌트만 쓰고 정답 비우기 ❌
- 둘 다 쓰거나, 둘 다 비워야 합니다.

### ✅ 핵심 규칙 2: “중간 비우면 뒤에 쓰면 안 됨”(연속성)
예시:
- 가수1 입력 ✅
- 가수2 입력 ✅
- 가수3 비움 ✅ (여기까지 ok)
- 가수4 입력 ❌ (중간 공백 때문에 저장 막힘)

즉, 가수는 **1번부터 빈칸 없이 연속 입력**해야 합니다.

### ✅ 핵심 규칙 3: 최소 1명은 필수
가수 정보가 하나도 없으면 저장이 막힙니다.

---

## 5.4 주관식 섹션

### 입력 항목
- **주관식 문제**
- **커트라인**
- 정답/힌트/2차힌트: 최대 20개

### ✅ 핵심 규칙 1: 정답도 연속 입력
- 정답1 입력
- 정답2 입력
- 정답3 비움
- 정답4 입력 → ❌ 저장 불가  
(가수랑 동일하게 중간 공백 허용 X)

### ✅ 핵심 규칙 2: “정답 있는 줄은 힌트도 필수”
- 정답을 적은 줄은 힌트가 비어있으면 저장 불가
- 정답이 없는 줄에 힌트만 있으면 저장 불가

### ✅ 핵심 규칙 3: 커트라인 제한
- 커트라인은 숫자만 가능
- **커트라인 값이 ‘입력한 주관식 정답 개수’보다 크면 저장 불가**

예시:
- 주관식 정답 3개 입력했는데 커트라인이 5 → ❌

---

## 5.5 객관식 섹션

### 입력 항목
- 객관식 문제
- 보기 1~4
- 정답 번호(1~4)

### 필수 규칙
- 문제 비어있으면 저장 불가
- 보기 4개 모두 비어있으면 저장 불가
- 정답 번호는 숫자만, 1~4 범위만 허용

---

## 6) 힌트 문자 규칙 (이거 안 지키면 자동으로 막힘)

힌트 입력칸들은 “아무 글자나” 허용하지 않습니다.

### ✅ 허용되는 것
- 공백
- 초성(ㄱ~ㅎ)
- 숫자(0~9)
- 영어(A~Z, a~z)
- 대부분의 특수문자/기호

### ❌ 금지되는 것
- 한글 완성형(가~힣)
- 한글 모음(ㅏ~ㅣ)

### 입력 중 자동 정리
금지 문자가 들어오면 일부 힌트칸은 **자동으로 제거/정리**됩니다.

---

## 7) 자동완성 사용법

이 폼은 과거에 저장된 데이터들을 기반으로 자동완성을 제공합니다.

### 언제 뜨나요?
- 글자를 입력하면 추천 리스트가 아래에 뜹니다.
- 1글자만 입력해도 뜰 수 있습니다(검색 결과가 있으면)

### 키보드 조작
- ↓ / ↑ : 추천 목록 이동
- Enter / Tab : 선택 확정
- (상황에 따라) ESC : 목록 닫기

---

## 8) 저장(추가/수정) 버튼 누르면 무슨 일이 일어나나요?

### 8.1 먼저, 전체 유효성 검사
- 입력 규칙 위반이 있으면 저장이 **즉시 중단**됩니다.
- 화면 상단에 **토스트 메시지**로 이유를 보여줍니다.
- 문제 있는 입력칸으로 자동 이동(필요 시 섹션도 자동으로 펼쳐짐)

### 8.2 이상 없으면 저장 파일에 기록
- 추가 모드: 새 곡이 맨 아래에 추가됨
- 수정 모드: 해당 곡이 교체됨

### 8.3 저장 후 자동 동기화
- 저장이 끝나면 자동으로 `Setting.txt` 형태로도 정리/동기화가 진행됩니다.

### 8.4 “정보 저장” 체크에 따라 입력 초기화
- 체크 OFF: 대부분 입력칸이 비워짐(연속 추가에 유리)
- 체크 ON: 입력 그대로 유지

---

## 9) 토스트(알림) 동작

- 화면 우측 상단에 뜨는 알림입니다.
- 같은 오류를 계속 반복 입력해도 스팸처럼 무한으로 뜨지 않게 방지되어 있습니다.
- 성공/오류/정보에 따라 아이콘이 다르게 뜹니다.

---

## 10) 제일 자주 나오는 오류 TOP 정리

### 🔥 “가수 입력이 연속되지 않습니다”
→ 중간에 빈 가수 칸이 있는데 뒤쪽 가수칸을 채웠을 때 발생  
✅ 해결: 1번부터 빈칸 없이 순서대로 채우기

### 🔥 “정답 없이 힌트만 입력되었습니다”
→ 힌트만 써놓고 정답을 비워둔 경우  
✅ 해결: 정답도 같이 쓰거나, 힌트도 지우기

### 🔥 “힌트에 허용되지 않은 문자가 포함됩니다”
→ 힌트에 ‘가나다’ 같은 완성형 한글이 들어간 경우  
✅ 해결: 초성/숫자/영문 위주로 구성

### 🔥 “커트라인이 주관식 정답 수보다 큽니다”
→ 주관식 정답 개수보다 큰 커트라인 입력  
✅ 해결: 커트라인 값을 정답 개수 이내로 낮추기

### 🔥 “객관식 정답은 1~4만 가능합니다”
→ 정답 번호 범위 밖 입력  
✅ 해결: 1~4만 입력

---

## 11) 처음 사용자용 “가장 빠른 정상 저장” 루트

### ✅ 최소 입력으로 저장하려면(주관식/객관식이 켜져있다는 가정)
1. 타입 입력
2. 길이 입력(숫자)
3. 제목 정답 + 제목 힌트 입력
4. 노래 정답 + 노래 힌트 입력
5. 가수1 정답 + 가수1 힌트 입력
6. 주관식 문제 입력
7. 주관식 정답1 + 힌트1 입력
8. 커트라인 입력(1~정답개수)
9. 객관식 문제 입력
10. 보기1~4 입력
11. 정답번호 입력(1~4)
12. 저장 버튼 클릭

### ✅ 자동화 추천
- 입력 후 상단에서 `힌트 일괄 생성` → 초성 힌트 자동 생성
- 필요하면 `2차힌트 일괄 생성`

---

## 12) 운영 팁(진짜 편해짐)

- 연속으로 곡 여러 개 넣을 때는 **정보 저장 체크 OFF** 추천  
  → 저장 후 비워져서 다음 곡 넣기 편함
- 가수/주관식은 **중간 비우면 끝**이라는 걸 기억  
  → “쓸 거면 앞부터 채우고, 안 쓸 거면 뒤도 비워라”
- 힌트는 한글 완성형 금지라서, 그냥 생성 버튼 쓰는 게 빠름

---

## 13) 도움말/FAQ

- 상단 `FAQ` 버튼: 자주 묻는 질문 팝업
- 상단 `도움말` 버튼: 브라우저로 도움말 페이지 열기  

---
