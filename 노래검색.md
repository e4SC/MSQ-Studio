# 노래 검색 / 재생 / 구간 지정 / 음원정보 삽입 도구 사용 설명서

이 문서는 **처음 사용하는 사용자**가 “한 번에” 이해할 수 있도록,
노래 검색/재생 도구의 모든 기능을 **화면에서 보이는 동작 기준**으로 정리했습니다.

---

## 1) 이 도구로 할 수 있는 일

- 유튜브 영상 **검색**(선택 기능: 검색용 키 필요)
- 유튜브 영상 **링크를 목록에 추가**(키 없이 가능)
- 영상 **재생 / 정지 / 이전곡 / 다음곡**
- **배속 조절**, **볼륨 조절**, **음소거**, **반복 재생**, **자동 다음곡**
- 원하는 구간을 **시작 시간 / 끝 시간**으로 지정
- 지정한 구간을 `음원 정보`에 **행 번호를 정해서 저장(삽입)**
- `음원 정보`에 있는 링크들을 **한 번에 불러오기**
- 유튜브 **재생목록을 통째로 불러오기**
- **즐겨찾기 추가/해제**, 즐겨찾기 목록 불러오기
- 유튜브 링크를 복사하면 자동으로 목록에 넣는 **자동 붙여넣기**

---

## 2) 준비물 / 필수 조건

### 2-1. 영상 재생이 안 되면 확인할 것 (필수)
이 도구는 유튜브 영상을 프로그램 안에서 재생합니다.  
만약 영상 영역이 비어 있거나 재생이 안 되면, **WebView2 런타임**이 설치되어 있어야 합니다.

> 대부분 Windows 10/11엔 기본으로 깔려있지만, PC 환경에 따라 없을 수 있습니다.

### 2-2. “검색” 기능만 필요한 준비물 (선택)
- 유튜브에서 **검색**을 하려면 개인 **YouTube Data API 키**가 필요합니다.
- 단, 아래 기능들은 **키 없이도 사용 가능합니다.**
  - 링크 추가(붙여넣기/자동 붙여넣기)
  - 음원 정보 불러오기
  - 재생목록 불러오기(환경에 따라 키가 필요할 수 있으나, 기본은 “검색”에만 요구)

---

## 3) 화면 구성 (어디에 뭐가 있는지)

### 3-1. 왼쪽: “영상 목록”
- 불러온 영상들이 리스트로 표시됩니다.
- 제목과 길이가 보입니다.
- 일부 항목은 앞에 표시가 붙을 수 있습니다.

#### 표시 아이콘(사용자 기준 의미)
- `★` : 즐겨찾기에 등록된 영상
- `📌` : 음원정보 파일에 이미 저장(삽입)된 영상

### 3-2. 오른쪽: “재생 화면(플레이어)”
- 유튜브 영상이 재생됩니다.
- 재생/정지, 이전/다음, 볼륨, 배속, 반복, 자동 다음곡 등이 있습니다.

### 3-3. 아래/부근: “구간(시작/끝) 설정”
- 시작 시간, 끝 시간을 입력합니다.
- 길이(끝-시작)가 표시됩니다.
- “구간 재생” / “삽입” 같은 동작을 할 수 있습니다.

---

## 4) 가장 빠른 사용법 (처음이라면 이대로)

### A) 링크 하나 넣고 구간 저장하기 (가장 쉬움)
1. 유튜브 영상 링크를 복사합니다.
2. 목록에서 마우스 오른쪽 클릭 → **📥 붙여넣기**
3. 목록에 추가된 영상을 선택해서 재생합니다.
4. 시작/끝 시간을 입력합니다. (예: `0:30` ~ `1:50`)
5. 메뉴 또는 버튼에서 **📌 음원정보에 링크 삽입**을 실행합니다.
6. 제목과 저장할 행 번호를 입력하고 확인합니다.
7. 완료 메시지가 뜨면 성공입니다.  
   저장된 영상은 목록에서 `📌` 표시가 붙을 수 있습니다.

---

## 5) 영상 목록에 추가하는 방법 (5가지)

### 5-1. 검색으로 추가 (검색용 키 필요)
1. 검색칸에 키워드를 입력합니다.
2. 검색 버튼을 누릅니다.
3. 결과에서 원하는 영상을 선택하면 재생됩니다.
4. 스크롤하면 더 많은 결과를 불러올 수 있습니다(목록이 계속 늘어남).

### 5-2. 수동 붙여넣기 (키 없이 가능)
1. 유튜브 링크를 복사합니다.
2. 목록에서 우클릭 → **📥 붙여넣기**
3. 링크가 유효하면 목록에 추가됩니다.

### 5-3. 자동 붙여넣기 (키 없이 가능)
1. 목록 우클릭 → **🤖 자동 붙여넣기** 체크
2. 이제 유튜브 링크를 복사하기만 하면 자동으로 목록에 추가됩니다.
3. 끄려면 같은 메뉴를 다시 눌러 체크 해제합니다.

> 자동 붙여넣기는 “클립보드 내용이 바뀐 순간”에만 반응합니다.  
> 너무 빠르게 연속으로 동작하는 경우 일부 입력은 무시될 수 있습니다(안전장치).

### 5-4. 음원정보 파일에서 전부 불러오기 (키 없이 가능)
1. 목록 우클릭 → **🧾 음원 정보 불러오기**
2. `음원 정보`에 있는 링크들을 읽어서 목록을 구성합니다.
3. 불러오는 중에는 로딩 화면이 표시됩니다.

### 5-5. 유튜브 재생목록 불러오기
1. 목록 우클릭 → **🎞 유튜브 재생목록 불러오기**
2. 재생목록 링크를 입력합니다.
3. 재생목록에 있는 영상들을 목록으로 불러옵니다.

**중요 조건**
- 재생목록은 반드시 **공개** 또는 **일부 공개(미등록)** 상태여야 합니다.
- 삭제/비공개/접근 불가 영상은 불러오지 못하며, 끝나고 나면 “제외된 영상 목록” 안내가 나올 수 있습니다.

---

## 6) 재생/조작 방법 (버튼 + 단축키)

### 6-1. 재생
- 목록에서 하나를 선택하고 **▶ 재생**을 누릅니다. '더블클릭'

### 6-2. 이전곡/다음곡
- 플레이어의 이전/다음 버튼을 누릅니다.
- 단축키:
  - `Ctrl + ←` : 이전곡
  - `Ctrl + →` : 다음곡

### 6-3. 재생 위치(시킹) 이동
- 단축키(아무 보조키 없이):
  - `←` : 뒤로 이동
  - `→` : 앞으로 이동

### 6-4. 볼륨 조절
- 단축키:
  - `↑` : 볼륨 증가
  - `↓` : 볼륨 감소
- 마우스 휠로도 조절될 수 있습니다.

### 6-5. 음소거
- 메뉴에서 **🔇 음소거**를 켜거나 끕니다.

### 6-6. 배속
- 배속 버튼으로 조절합니다.
- 오른쪽 클릭 메뉴에서 “현재 배속 표시”가 함께 보일 수 있습니다.

### 6-7. 반복 재생 / 자동 다음곡
- **🔂 반복 재생**: 현재 영상 반복
- **🔁 자동 다음곡**: 영상이 끝나면 다음 항목 자동 재생

---

## 7) 시작/끝 시간 입력 규칙 (매우 중요)

### 7-1. 허용되는 입력 형태
- 기본: `분:초` (예: `0:30`, `1:05`, `12:34`)
- 구분자 `;`도 허용합니다. (예: `1;20` → `1:20`)
- 숫자만 입력해도 자동으로 시간 형태로 바뀔 수 있습니다.
  - 예: `130` → `1:30`
  - 예: `90` → `1:30` 처럼 초가 60을 넘으면 자동 보정

### 7-2. 자동 기본값 규칙
- 시작/끝 둘 다 비어 있으면 자동으로 기본 구간이 설정될 수 있습니다.
- 한쪽만 비어 있는 경우도 자동 보정이 적용될 수 있습니다.

### 7-3. 길이(끝-시작) 표시
- 정상 입력이면 길이가 `m:ss`로 표시됩니다.
- 영상 정보를 아직 못 가져온 상태면 `--:--`로 표시될 수 있습니다.

---

## 8) 오류 상황 & “삽입 불가” 조건

아래 상황에서는 “삽입”이 막히거나 경고가 뜹니다.

### 8-1. 끝 시간이 시작 시간보다 빠름
- 대표 예: 시작 `1:00`, 끝 `0:10`
- 이 경우 **삽입이 불가능**합니다.
- 화면에 오류 표시가 나타나며, 빨간 경고 토스트가 고정으로 뜰 수 있습니다.

### 8-2. 영상 길이를 초과함
- 시작/끝이 영상 총 길이를 넘으면 오류로 판단됩니다.
- 이 경우도 삽입이 막힐 수 있습니다.

### 8-3. 형식이 이상함
- 숫자가 아닌 문자가 들어가거나, 구분이 올바르지 않으면 오류 처리됩니다.

---

## 9) “음원 정보에 삽입” 자세히

### 9-1. 삽입이란?
- 현재 재생 중인 영상의 링크와
- 사용자가 지정한 시작/끝 시간을
- `음원 정보`의 특정 행에 저장하는 것입니다.

### 9-2. 삽입 흐름
1. 영상이 재생(또는 선택)되어 있어야 합니다.
2. 시작/끝 시간을 지정합니다.
3. **📌 음원정보에 링크 삽입**을 실행합니다.
4. 제목과 행 번호를 입력합니다.
5. 저장이 완료되면 완료 메시지가 뜹니다.

### 9-3. 행 번호 규칙(처음 사용자도 꼭 읽기)
- 저장할 수 있는 행 번호는 **“현재 파일에서 마지막으로 채워진 행 바로 다음”**까지만 허용됩니다.
- 즉, 중간을 비워두고 멀리 떨어진 행에 갑자기 저장하는 것은 막혀있습니다.
- 허용 범위를 넘어가는 번호를 넣으면 “가능한 행 번호” 안내가 나오며 다시 입력해야 합니다.

### 9-4. 이미 저장된 행에 덮어쓰기
- 입력한 행에 이미 링크가 있으면 “덮어쓸지” 묻습니다.
- “아니오”를 누르면 다시 입력 화면으로 돌아갑니다.

### 9-5. 제목 중복
- 다른 행에 같은 제목이 이미 있으면 중복 오류가 나고 다시 입력해야 합니다.
- (행 번호를 유지한 채로 제목만 바꾸면 되는 방식으로 동작할 수 있습니다.)

---

## 10) 삽입된 곡 숨기기(필터)

목록 우클릭 → **📌 삽입된 곡 숨기기**

- 켜면: 음원 정보에 이미 저장된 영상은 목록에서 숨겨집니다.
- 끄면: 전체가 보입니다.

### 필터 사용 중 재생 중인 곡이 사라지는 경우
- 필터로 인해 지금 재생 중이던 곡이 목록에서 사라지면,
  프로그램은 자동으로 다음 곡 또는 이전 곡을 찾아 재생을 이어가려 할 수 있습니다.
- 목록이 완전히 비면 재생 화면이 초기화될 수 있습니다.

---

## 11) 즐겨찾기

### 11-1. 즐겨찾기 추가/해제
1. 목록에서 하나 이상 선택
2. 우클릭 → **⭐ 즐겨찾기 추가** 또는 **⭐ 즐겨찾기 해제**

### 11-2. 즐겨찾기 불러오기
- 우클릭 → **⭐ 즐겨찾기 불러오기**
- 즐겨찾기 목록을 기반으로 리스트를 다시 구성합니다.

> 참고: 즐겨찾기 목록은 상황에 따라 같은 영상이 여러 번 나타날 수 있습니다(사용 방식에 따른 정상 동작).

---

## 12) 목록에서 삭제

- 목록에서 항목 선택(여러 개 가능)
- 우클릭 → **🗑 목록에서 삭제**
- 현재 재생 중인 항목을 삭제하면 재생이 초기화될 수 있습니다.

---

## 13) 파일 위치

### 13-1. 검색용 키 저장 파일
- 위치: `프로그램 폴더/res/` 아래의 키 저장 파일  
- 검색용 키는 “검색 기능”에만 사용되며, 외부로 전송되지 않는 방식으로 안내됩니다.

---

## 14) 자주 묻는 질문(FAQ)

### Q1. 검색이 안 돼요
- 검색 기능은 별도의 검색용 키가 필요합니다.
- 키를 입력했는지 확인하세요.

### Q2. 링크 붙여넣기 했는데 추가가 안 돼요
- 유튜브 링크 형식이 아니거나, 지원하지 않는 링크일 수 있습니다.
- 삭제/비공개 영상은 추가가 거부될 수 있습니다.

### Q3. 삽입 버튼이 비활성화돼요
- 시작/끝 시간이 올바르지 않은 경우가 가장 흔합니다.
- 특히 “끝이 시작보다 빠른 경우”는 무조건 삽입 불가입니다.

### Q4. 재생목록을 불러왔는데 일부가 빠져요
- 삭제/비공개/접근 불가 영상이 포함되어 있으면 제외됩니다.
- 끝나고 나면 제외 항목 안내가 표시될 수 있습니다.

---

## 15) 보안/주의사항

- 검색용 키는 개인 인증 정보입니다. 공개/공유/업로드 금지.
- 키가 노출되었다면 관리 콘솔에서 즉시 폐기 또는 제한을 권장합니다.
- 본 도구는 Google/YouTube와 제휴 관계가 없는 비공식 도구입니다.

---
