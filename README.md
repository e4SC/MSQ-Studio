# MSQ Studio

> ### ※ !!중요!! 첨부된 모든 파일의 이름은 변경하지 마세요 ※

**MSQ Studio**는  
스타크래프트 EUD 노래 맞히기 유즈맵을 쉽고 안정적으로 제작하기 위한  
**올인원 제작 도구**입니다.

노래 추가부터 맵 설정, 음원 자르기, 챗 이벤트 생성, 빌드까지  
모든 과정을 **GUI로 관리**할 수 있습니다.

---

## 기본 정보

- 프로그램 이름: **MSQ Studio**
- 용도: **StarCraft 음악 퀴즈 맵 제작 도구**
- 제작자: **eeee**

---

## 제작 흐름 (중요)

> ⚠️ 아래 순서가 **기본적인 제작 흐름입니다.**

1. **맵 설정**
2. **오프닝 / 엔딩 설정**
3. **노래 추가**
4. **빌드**
5. **챗 이벤트**
6. **디버그 (선택)**

---

## 메인 기능 구성

> 아래 항목들은 실제 제작 흐름 기준으로 구성되어 있습니다.

---

### 1. 맵 설정

노래 맞히기 맵의 **핵심 옵션**을 설정합니다.

#### 힌트 / 시간 설정

- 스피드 모드 힌트 출력 시간 (1~4단계)
- 감상 모드 힌트 출력 시간
- 주관식 힌트 출력 시간
- 2차 힌트 출력 시간
- 오프닝 1 / 2 / 3 시간
- 엔딩 출력 시간

#### 게임 옵션

- 음악 셔플 ON / OFF
- 자동 다음 곡 진행 ON / OFF (남은 시간 설정 가능)
- 자동 다음 곡 OFF 상태에서 시간을 비워두면, 남은 시간을 유지합니다.
- 정답 공개 ON / OFF
- 음악 재생 딜레이 ON / OFF
- 랭킹 모드
- 익명 모드

#### 문제 유형

- 주제 / 노래 / 가수 사용 여부
- 주관식 문제 사용
- 객관식 문제 사용  

#### UI 설정

- 기본 UI  
  **※ 기본 UI에서만 객관식 사용 가능**  
  **※ 기본 UI에서 객관식만 사용하는 경우 장르 선택은 사용할 수 없습니다.**

- 디자인 UI  
  **※ 디자인 UI 사용 시 객관식은 사용할 수 없습니다.**

#### 스킵 설정

- 과반수 스킵 사용 여부
- 스킵 관련 단축키 지정
  - 스킵 투표
  - 자동 스킵
  - 방장 스킵
  - 방장 객관식 스킵
  - 방장 자동 스킵 해제

#### 문항 설정

- 문항 이름 (주제 / 노래 / 가수 / 문제 등)
- 문항별 색상
- 문항별 점수 설정

#### 파일 설정

- 방 만들 때 보이는 맵 이름
- 맵 설명
- 포스 1 / 포스 2 이름

#### 효과음 설정

- 오프닝1
- 오프닝2
- 클릭
- 스킵
- 정답

> ❗ 선택한 효과음은 반드시 `SFX` 폴더 내부의 `.wav / .ogg` 파일만 허용됩니다.

---

### 2. 오프닝 / 엔딩 설정

게임 시작 및 종료 시 출력되는  
**오프닝 / 엔딩 멘트를 직접 편집하고 미리 확인**하는 기능입니다.

- 오프닝 멘트 1 ~ 3, 엔딩 멘트 개별 설정
- 스타크래프트 제어문자(\xNN) 기반 색상 / 정렬 지원
- 실제 인게임 출력과 동일한 방식으로 실시간 미리보기 제공
- 좌측 색상 팔레트를 클릭하여 제어문자 자동 입력
- 최대 11줄까지 입력 제한 적용
- 설정 내용은 자동 저장되며 빌드 시 바로 반영됨

---

### 3. 노래 추가

노래 맞히기에 사용될 모든 정보를 등록합니다.

- 노래 제목 / 노래명 / 가수 정보 (최대 7명)
- 주제(애니 / 작곡가 등) 및 노래 길이
- 정답 (복수 입력 가능, 주관식 정답 최대 20개)
- 힌트 / 2차 힌트 지원
- 주관식 / 객관식 문제 설정 (객관식은 4지선다)
- 맵 설정에 따른 항목 자동 활성·비활성 처리
- 기존 데이터 기반 **자동완성 지원**
- 입력값 검증 및 중복·형식 오류 방지

---

### 4. 노래 수정

이미 추가된 노래를  
**리스트 또는 번호 기준으로 관리**하는 화면입니다.

- 노래 리스트에서 항목 클릭 시 바로 수정
- 노래 번호를 입력해 직접 수정
- 노래 삭제
- 모든 노래 일괄 삭제
- 노래 순서 변경 (번호 ↔ 번호)

---

### 5. 노래 백업

- 현재 추가된 모든 노래 정보를 백업 파일로 저장
- 문제 발생 시 복구 가능

---

### 6. 장르 설정

노래를 장르 단위로 묶기 위한  
**장르 구조 설정 화면**입니다.

- 장르 개수 설정 (1 ~ 20개)
- 각 장르의 이름 설정
- 장르별 곡 개수 직접 지정
- 설정 내용은 자동으로 저장되며 다시 열면 유지됨
- 설정 완료 시 장르 정보가 빌드에 바로 반영됨

> ⚠️ **중요**
>
> - EUD3에서 노래를 추가할 때는 **장르 설정에서 정한 순서대로 노래를 추가해야 합니다.**
> - 예를 들어 장르를  
>   **애니메이션 20곡 / JPOP 20곡 / KPOP 20곡**  
>   으로 설정했다면,
>   **EUD3에서도 해당 순서 그대로**  
>   애니메이션 → JPOP → KPOP 순으로 노래를 추가해야 합니다.
> - 이 순서가 맞지 않으면 장르 분류가 정상적으로 동작하지 않습니다.

---

### 7. 음원 자르기

외부 프로그램 없이 음원을 자르고 관리할 수 있는 기능입니다.

- 지원 포맷: **MP3 / WAV / OGG**  
  (권장 포맷: **MP3**)
- 볼륨을 한 번에 조절하여 음원 자르기 가능
- 노래 검색 기능과 연동 지원
- 음원 정보 검사 기능 지원  
  (입력한 음원 정보가 실제로 잘린 음원 정보와 일치하는지 확인)

---

### 8. 빌드

빌드를 실행하면 다음 작업이 자동으로 처리됩니다.

- EUD3 컴파일 준비 완료

---

### 9. 챗 이벤트

빌드 후 생성되는  
**챗 정답 이벤트를 표 형태로 관리**하는 기능입니다.

- 기본 정답 / 추가 정답 입력 및 관리
- 중복 정답 자동 검사
- 26자 초과 및 특수문자 입력 제한
- 줄임말 및 다양한 입력 패턴 대응
- 전체 선택(Ctrl + A) / 실행 취소(Ctrl + Z) 지원
- 복사 / 붙여넣기 지원 (다중 셀 붙여넣기 가능)
- 검색 기능 지원 (Ctrl + F)
- 열 추가 / 삭제로 정답 개수 확장
- 기존 챗 이벤트 자동 백업 및 복원
- 작성 완료 후 챗 이벤트 파일 자동 생성

---

### 10. 디버그

맵을 실행하지 않고도  
**실제 인게임 동작을 미리 확인하고 수정**할 수 있는 디버그 화면입니다.

- 실제 출력되는 정답 / 힌트 / 문제 텍스트 확인
- 채팅으로 인식되는 정답 목록 및 인덱스 확인
- 노래 목록 선택 후 음원 직접 재생
- 재생 위치 이동 및 볼륨 조절 지원
- 제목 / 노래 / 가수 / 주관식 / 힌트 텍스트 실시간 수정 가능
- 1차 힌트 / 2차 힌트 전환 확인
- 노래 검색을 통한 빠른 이동 지원

> ⚠️ 디버그에서 노래를 재생한 경우  
> **MSQ Studio를 종료해야 EUD3 컴파일이 가능합니다.**

---

### 11. 일본어 발음

#### 일본어 발음 보조 (테스트 기능)

- 일본어 **곡 제목 및 가수명 발음 확인**을 위한 보조 기능입니다.
- 번역기나 AI를 사용하지 않은 기능으로, **일부 발음이 정확하지 않을 수 있습니다.**
- 문맥, 억양, 노래 특성 등에 따라 발음 결과가 달라질 수 있습니다.
- 최초 실행 시 아래 **보조 프로그램 및 사전 데이터**가 자동으로 다운로드 및 설치됩니다.
  - MeCab
  - IPADIC
  - UniDic
  - JMdict
  - WordNet
- **실제 설치 용량:** 약 **1.5GB**
- **압축 파일 용량:** 약 **720MB**
- 본 기능은 **테스트 기능**으로, 향후 업데이트에 따라 변경되거나 제거될 수 있습니다.

---

### 12. 노래 검색

#### 노래 검색

- 유튜브를 기반으로 노래를 검색하고 바로 재생할 수 있는 기능입니다.
- 검색한 결과를 **음원 자르기 기능의 음원정보** 와 연동하여 제작에 바로 활용할 수 있습니다.

#### 기본 기능

- 노래 제목 또는 가수명으로 검색
- 검색 정렬 방식 선택  
  **(알고리즘 적용이 안되기 때문에 원하는 결과가 나오지 않을 확률이 큼)**
  - 관련도순
  - 조회수순
  - 최신순
- 검색 결과 클릭 시 즉시 재생
- 음원 정보에서 불러왔을 경우 재생 구간 자동 적용  
  **(음원정보에 등록된 시작 초 부터 끝 초까지재생)**
- 유튜브 재생목록을 불러오기

#### 재생 기능

- 유튜브 영상 직접 재생 (내장 플레이어)
- 재생 / 일시정지
- 이전 곡 / 다음 곡
- 5초 단위 이동 **(← / → 키)**
- 볼륨 조절 / 음소거
- 현재 재생 시간 표시

#### 음원정보 연동

- 검색 결과 우클릭 메뉴 제공
  - 유튜브 링크 열기
  - 제목 복사
  - 링크 복사
  - **음원정보에 링크 삽입**
  - **음원정보 불러오기**
  - **유튜브 재생목록 불러오기**
- 여러 곡 선택 시 **다중 삽입 지원**
- 삽입 시 기본 재생 구간 자동 설정
  - 시작: 0:30
  - 종료: 1:50

#### 유튜브 재생목록 불러오기

- 유튜브 재생목록 링크를 입력하여  
  재생목록에 포함된 모든 곡을 한 번에 불러올 수 있습니다.
- ⚠️ **공개 / 일부 공개(미등록) 재생목록만 지원합니다.** ⚠️  
  ❗ **비공개 재생목록은 절대 불러올 수 없습니다.**

#### ⚠️ 재생목록 불러오기 시 일부 영상이 누락될 수 있습니다

재생목록을 불러오는 과정에서 아래 조건에 해당하는 영상은  
**오류 없이 자동으로 건너뛰어지며 리스트에 추가되지 않습니다.**

- 🚫 **국가 제한으로 재생이 차단된 영상**
- 🔒 **비공개 또는 삭제된 영상**
- ⛔ **연령 제한 등으로 API 접근이 불가능한 영상**
- ❌ **YouTube API에서 정보 조회가 실패한 영상 (403 / 404 오류 등)**
- ⏱ **길이가 너무 짧거나 길어 조건에 맞지 않는 영상**
  - (약 1분 미만 또는 20분 초과)

👉 위 사유에 해당하는 영상은  
**정상적으로 재생하거나 정보를 불러올 수 없기 때문에 자동으로 제외됩니다.**

#### 사용 목적

- 노래 맞히기 맵 제작 시
  - 사용할 음원 탐색
  - 재생 여부 확인
  - 음원정보 자동 채우기
- 유튜브 링크를 직접 복사·붙여넣는 작업을 최소화합니다.

#### 주의 사항

- 본 기능은 유튜브 API를 사용합니다.
- 네트워크 상태 또는 유튜브 정책에 따라  
  일부 영상이 검색되지 않거나 불러와지지 않을 수 있습니다.

---

### 13. FAQ

- 프로그램을 이용하는 과정에서 발생할 수 있는 오류와 자주 묻는 질문을 정리한 도움말입니다.
- 정상적인 사용 중 발생하는 문제뿐만 아니라,  
  **의도하지 않은 사용 방법이나 잘못된 조작으로 인해 발생할 수 있는 오류**에 대한 안내를 포함합니다.
- 빌드 오류, 업데이트 오류, 파일 누락, 프로그램 오류 등 주요 문제의 해결 방법을 제공합니다.

> ❗ **본 FAQ에서 해결되지 않는 문제는**  
> `문의하기`를 이용하거나 **카페 댓글 / 채팅**을 통해 문의해 주세요.

---

## 문의

프로그램 오류, 개선 요청, 제작 중 문제 발생 시  
아래 오픈채팅으로 문의해주세요.

👉 https://open.kakao.com/o/s1L9npdi
